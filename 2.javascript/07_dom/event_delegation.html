<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!--
        엘리먼트 추가 -> 이벤트 리스너 추가
        엘리먼트 삭제(이벤트는 삭제안됨) -> 메모리 누수
        엘리먼트 삭제 -> 이벤트 삭제

        ==> 이벤트 위임 방법을 사용
            상위 엘리먼트에 이벤트 리스너 추가
    -->
    <ul id="menu">
        <li class="item">리스트1</li>
        <li class="item">리스트2</li>
        <li class="item">리스트3</li>        
    </ul>
    <script>
        //직접 이벤트
        let nodes = document.getElementsByClassName("item");
        for(node of nodes) {
            node.addEventListener("click", function(e){
                var target = e.target;
                console.log( e.target.innerText );
            })
        }

        //이벤트 위임
        document.getElementById("menu").addEventListener("click", function (e) {
            var target = e.target;
            
            if (target.className === "item") {
                console.log( "delagation: " + e.target.innerText );
            } else if (target.matches('.item')) {
                console.log( "delagation: " + e.target.innerText );
            } else if (target.classList.contains("item")) {
                console.log( "delagation: " + e.target.innerText );
            }
        });
    </script>
</body>

</html>