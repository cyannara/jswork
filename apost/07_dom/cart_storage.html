<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input name="nm"><input name="price"><input name="qty">
    <button type="button">장바구니담기</button>
    <script>
        //스토리지에서 카트 정보 읽기
        let cart = localStorage.getItem("cart");
        //카트가 비었으면 카트 초기화 [] 아니면 parse()
        if(! cart) {
            cart = [];
        } else {
            cart = JSON.parse(cart);   //string => object
        }

        //[ {nm:이름, qty:수량, price:금액},   ]
        document.querySelector("button").addEventListener("click", function(){           
            //input 값을 객체 { nm, price, qty } 로 만들고 카트배열에 추가
            let nm = document.querySelector('[name="nm"]').value;
            let qty = document.querySelector('[name="qty"]').value;
            let price = document.querySelector('[name="price"]').value;
            
            //스토리지에 카트 배열을 저장
            cart.push({nm,qty,price});   //{nm:nm,qty:qty,price:price}
            localStorage.setItem("cart", JSON.stringify(cart));
        });
    </script>
</body>
</html>