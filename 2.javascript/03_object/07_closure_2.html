<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>closure</title>
</head>
<body>
    <h3>클로저(Closure) 반복문</h3>
    <ul>
        <li id="menu1"></li>
        <li id="menu2"></li>
        <li id="menu3"></li>
    </ul>
    <script>
        var helper = [
            {menuid:'menu1', txt:'홈'},
            {menuid:'menu2', txt:'서비스'},
            {menuid:'menu3', txt:'고객'}
        ]
        document.addEventListener('DOMContentLoaded', function(){
            for(var i=0; i< helper.length;i++) {
                var msg = helper[i];    //let(로컬변수)으로 변경  var는 전역변수이므로 배열의 마지막 요소를 가지고 있음
                document.getElementById(msg.menuid).textContent = msg.txt;
                document.getElementById(msg.menuid).addEventListener('click', ()=> {tootip(msg.txt);});
            }
        })

        function tootip(msg){
            console.log(msg);
        }
    </script>
</body>
</html>