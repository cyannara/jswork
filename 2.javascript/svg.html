<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <svg version="1.1" id="svgArea"
     baseProfile="full"
     width="600" height="600"
     xmlns="http://www.w3.org/2000/svg">

  <!-- <rect width="100%" height="100%" fill="red" /> -->
<!-- 
  <circle cx="150" cy="100" r="80" fill="green" />

  <text x="150" y="125" font-size="60" text-anchor="middle" fill="white">SVG</text> -->

</svg>
<button id="addRect">추가</button>
<script>
    const posi = [[100,150], 
                        [400,150],
                        [100,350],
                        [400,350] ]

    const facilities = [['설비1', 'Y'], 
                        ['설비2','N'],
                        ['설비3','Y'],
                        ['설비4','Y'] ]
                        
    document.querySelector("#addRect").addEventListener("click", function(){
        const area = document.querySelector("#svgArea");
        posi.forEach((item,idx)=>{
            const color = facilities[idx][1] == 'Y' ? 'green' : 'red';
            area.insertAdjacentHTML(
                'beforeend',
                `<circle cx="${item[0]}" cy="${item[1]}" r="80" fill="${color}" data-id="${idx}"/>
                <text x="${item[0]-50}" y="${item[1]}" font-size="20" text-anchor="middle" fill="white">${facilities[idx][0]}</text>`
            );
        })

    })

    document.querySelector("svg").addEventListener("click", function(){
        console.log(event.target.tagName)
        if(event.target.tagName =='circle') {
            console.log(event.target.dataset['id'])
        }
    })

</script>
</body>
</html>